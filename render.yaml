# Render service definition (no-Docker). Import this file in Render to create the Web Service.
# Edit the env values in the Render dashboard after import before deploy.
services:
  - type: web
    name: culture-benin
    repo: https://github.com/modjissola81-afk/CultureBenin.git
    branch: main
    env: python
    plan: free
    buildCommand: >
      bash -lc "composer install --no-dev --no-interaction --optimize-autoloader && npm ci && npm run build && php artisan storage:link || true"
    startCommand: php artisan serve --host 0.0.0.0 --port $PORT
    autoDeploy: true
    pullRequestPreview: true
    envVars:
      APP_ENV: production
      APP_DEBUG: 'false'
      APP_KEY: ''
      APP_URL: ''
      DB_CONNECTION: ''
      DB_HOST: ''
      DB_PORT: ''
      DB_DATABASE: ''
      DB_USERNAME: ''
      DB_PASSWORD: ''
      MAIL_MAILER: smtp
      MAIL_HOST: ''
      MAIL_PORT: ''
      MAIL_USERNAME: ''
      MAIL_PASSWORD: ''
      MAIL_ENCRYPTION: tls
      CACHE_DRIVER: file
      QUEUE_CONNECTION: sync
      ADMIN_LOGIN_MODE: ''
      ADMIN_EMAIL: ''
      ADMIN_PASSWORD: ''

# Notes:
# - After importing this file in Render, open Service -> Environment to fill the empty values
#   (APP_KEY, APP_URL, DB_* and MAIL_*).
# - If you don't use npm, edit the buildCommand to remove npm lines.
# - This config uses the Python environment on Render but runs the provided commands
#   which install Composer dependencies and run php artisan. That's acceptable when
#   you need a custom build flow and Render doesn't show PHP in the UI.
